(()=>{var e={};e.id=156,e.ids=[156],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},76162:e=>{"use strict";e.exports=require("stream")},74026:e=>{"use strict";e.exports=require("string_decoder")},98061:e=>{"use strict";e.exports=require("node:assert")},92761:e=>{"use strict";e.exports=require("node:async_hooks")},72254:e=>{"use strict";e.exports=require("node:buffer")},40027:e=>{"use strict";e.exports=require("node:console")},6005:e=>{"use strict";e.exports=require("node:crypto")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},30604:e=>{"use strict";e.exports=require("node:dns")},15673:e=>{"use strict";e.exports=require("node:events")},88849:e=>{"use strict";e.exports=require("node:http")},42725:e=>{"use strict";e.exports=require("node:http2")},87503:e=>{"use strict";e.exports=require("node:net")},38846:e=>{"use strict";e.exports=require("node:perf_hooks")},39630:e=>{"use strict";e.exports=require("node:querystring")},84492:e=>{"use strict";e.exports=require("node:stream")},31764:e=>{"use strict";e.exports=require("node:tls")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},93746:e=>{"use strict";e.exports=require("node:util/types")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},46612:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(44287),s(15156),s(32029),s(35866);var r=s(23191),a=s(88716),l=s(37922),n=s.n(l),i=s(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["dashboard",{children:["dokumen",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,44287)),"/Users/SMT-H3-04250401/Codes/MasjidOS/src/app/dashboard/dokumen/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,15156)),"/Users/SMT-H3-04250401/Codes/MasjidOS/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,32029)),"/Users/SMT-H3-04250401/Codes/MasjidOS/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/SMT-H3-04250401/Codes/MasjidOS/src/app/dashboard/dokumen/page.tsx"],u="/dashboard/dokumen/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/dokumen/page",pathname:"/dashboard/dokumen",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},40956:(e,t,s)=>{Promise.resolve().then(s.bind(s,26927))},31540:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},12714:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},36283:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},88307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},98091:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},63685:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},26927:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var r=s(10326),a=s(17577),l=s(36283);let n=(0,s(62881).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var i=s(65983),o=s(12714),d=s(31540),c=s(98091),u=s(63685),x=s(94019),p=s(88307),m=s(64676),h=s(7967),j=s(53566);function g(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB"}function y({category:e}){let t={notulen:r.jsx(l.Z,{className:"w-5 h-5"}),proposal:r.jsx(l.Z,{className:"w-5 h-5"}),report:r.jsx(l.Z,{className:"w-5 h-5"}),photo:r.jsx(n,{className:"w-5 h-5"}),other:r.jsx(i.Z,{className:"w-5 h-5"})};return r.jsx("div",{className:(0,h.cn)("w-10 h-10 rounded-xl flex items-center justify-center",{notulen:"bg-primary-100 text-primary-600",proposal:"bg-accent-100 text-accent-600",report:"bg-success-100 text-success-600",photo:"bg-error-100 text-error-600",other:"bg-neutral-100 text-neutral-600"}[e]),children:t[e]})}function b({document:e}){let t=j.A5.find(t=>t.value===e.category);return r.jsx("div",{className:"card p-4 hover:shadow-card-hover transition-shadow",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(y,{category:e.category}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-medium text-neutral-900 truncate",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-xs text-neutral-500",children:[r.jsx("span",{children:t?.label}),r.jsx("span",{children:"•"}),r.jsx("span",{children:g(e.fileSize)}),r.jsx("span",{children:"•"}),r.jsx("span",{children:(0,h.p6)(e.createdAt)})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx("button",{className:"p-2 hover:bg-neutral-100 rounded-lg text-neutral-500 hover:text-primary-600",children:r.jsx(o.Z,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 hover:bg-neutral-100 rounded-lg text-neutral-500 hover:text-primary-600",children:r.jsx(d.Z,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 hover:bg-neutral-100 rounded-lg text-neutral-500 hover:text-error-600",children:r.jsx(c.Z,{className:"w-4 h-4"})})]})]})})}function v({onAdd:e}){return(0,r.jsxs)("div",{className:"card p-12 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-neutral-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:r.jsx(i.Z,{className:"w-8 h-8 text-neutral-400"})}),r.jsx("h3",{className:"font-medium text-neutral-900 mb-1",children:"Belum Ada Dokumen"}),r.jsx("p",{className:"text-sm text-neutral-500 mb-6 max-w-sm mx-auto",children:"Upload notulen rapat, proposal, laporan, atau foto kegiatan masjid."}),(0,r.jsxs)("button",{onClick:e,className:"btn-primary",children:[r.jsx(u.Z,{className:"w-4 h-4"}),"Upload Dokumen"]})]})}function f({isOpen:e,onClose:t}){let[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(null),[c,p]=(0,a.useState)({name:"",category:""}),m=async e=>{if(e.preventDefault(),o){i(!0);try{let{url:e}=await s.e(320).then(s.bind(s,5320)).then(e=>e.upload(o.name,o,{access:"public",handleUploadUrl:"/api/upload"})),r=new FormData;r.append("name",c.name),r.append("category",c.category),r.append("fileUrl",e),r.append("fileSize",o.size.toString());let{createDocument:a}=await Promise.resolve().then(s.bind(s,3682)),l=await a(r);if(l.error)throw Error(l.error);t(),d(null),p({name:"",category:""})}catch(e){console.error("Upload failed:",e),alert("Gagal mengupload dokumen. Pastikan Anda memiliki izin.")}finally{i(!1)}}};return e?r.jsx("div",{className:"modal-overlay",onClick:t,children:(0,r.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-neutral-900",children:"Upload Dokumen"}),r.jsx("button",{onClick:t,className:"p-1 hover:bg-neutral-100 rounded-lg",children:r.jsx(x.Z,{className:"w-5 h-5"})})]}),(0,r.jsxs)("form",{onSubmit:m,className:"p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"border-2 border-dashed border-neutral-200 rounded-xl p-8 text-center hover:border-primary-400 transition-colors cursor-pointer relative",children:[r.jsx("input",{type:"file",onChange:e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];d(t),c.name||p(e=>({...e,name:t.name}))}},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",required:!0}),o?(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[r.jsx(l.Z,{className:"w-10 h-10 text-primary-500 mb-3"}),r.jsx("p",{className:"font-medium text-neutral-900 mb-1",children:o.name}),r.jsx("p",{className:"text-sm text-neutral-500",children:g(o.size)})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(u.Z,{className:"w-10 h-10 text-neutral-400 mx-auto mb-3"}),r.jsx("p",{className:"font-medium text-neutral-900 mb-1",children:"Klik untuk upload file"}),r.jsx("p",{className:"text-sm text-neutral-500",children:"PDF, DOC, JPG, PNG hingga 10MB"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1.5",children:"Nama Dokumen"}),r.jsx("input",{type:"text",value:c.name,onChange:e=>p({...c,name:e.target.value}),className:"input",placeholder:"Contoh: Notulen Rapat Januari 2026",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1.5",children:"Kategori *"}),(0,r.jsxs)("select",{value:c.category,onChange:e=>p({...c,category:e.target.value}),className:"input",required:!0,children:[r.jsx("option",{value:"",children:"Pilih kategori"}),j.A5.map(e=>r.jsx("option",{value:e.value,children:e.label},e.value))]})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-2",children:[r.jsx("button",{type:"button",onClick:t,className:"btn-secondary flex-1",disabled:n,children:"Batal"}),r.jsx("button",{type:"submit",className:"btn-primary flex-1",disabled:n||!o,children:n?"Mengupload...":"Upload"})]})]})]})}):null}function N(){let[e,t]=(0,a.useState)(!1),[s,l]=(0,a.useState)(""),[n,i]=(0,a.useState)("all"),o=m.bx.filter(e=>(!s||!!e.name.toLowerCase().includes(s.toLowerCase()))&&("all"===n||e.category===n)),d=m.bx.reduce((e,t)=>e+t.fileSize,0);return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Dokumen"}),r.jsx("p",{className:"text-neutral-500 mt-1",children:"Kelola arsip dan dokumentasi masjid"})]}),(0,r.jsxs)("button",{onClick:()=>t(!0),className:"btn-primary",children:[r.jsx(u.Z,{className:"w-4 h-4"}),"Upload"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"card p-4",children:[r.jsx("p",{className:"text-sm text-neutral-500",children:"Total Dokumen"}),(0,r.jsxs)("p",{className:"text-xl font-bold text-neutral-900 mt-1",children:[m.bx.length," file"]})]}),(0,r.jsxs)("div",{className:"card p-4",children:[r.jsx("p",{className:"text-sm text-neutral-500",children:"Total Ukuran"}),r.jsx("p",{className:"text-xl font-bold text-primary-600 mt-1",children:g(d)})]}),(0,r.jsxs)("div",{className:"card p-4",children:[r.jsx("p",{className:"text-sm text-neutral-500",children:"Terakhir Upload"}),r.jsx("p",{className:"text-xl font-bold text-neutral-900 mt-1",children:(0,h.p6)(m.bx[0]?.createdAt||new Date)})]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[r.jsx(p.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),r.jsx("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"Cari dokumen...",className:"input pl-10"})]}),(0,r.jsxs)("select",{value:n,onChange:e=>i(e.target.value),className:"input w-auto",children:[r.jsx("option",{value:"all",children:"Semua Kategori"}),j.A5.map(e=>r.jsx("option",{value:e.value,children:e.label},e.value))]})]}),0===o.length?r.jsx(v,{onAdd:()=>t(!0)}):r.jsx("div",{className:"grid gap-3",children:o.map(e=>r.jsx(b,{document:e},e.id))}),r.jsx(f,{isOpen:e,onClose:()=>t(!1)})]})}},44287:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/Users/SMT-H3-04250401/Codes/MasjidOS/src/app/dashboard/dokumen/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,283,471,344,893,577,780,457],()=>s(46612));module.exports=r})();