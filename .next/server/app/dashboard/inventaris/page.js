(()=>{var e={};e.id=299,e.ids=[299],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},76162:e=>{"use strict";e.exports=require("stream")},74026:e=>{"use strict";e.exports=require("string_decoder")},98061:e=>{"use strict";e.exports=require("node:assert")},92761:e=>{"use strict";e.exports=require("node:async_hooks")},72254:e=>{"use strict";e.exports=require("node:buffer")},40027:e=>{"use strict";e.exports=require("node:console")},6005:e=>{"use strict";e.exports=require("node:crypto")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},30604:e=>{"use strict";e.exports=require("node:dns")},15673:e=>{"use strict";e.exports=require("node:events")},88849:e=>{"use strict";e.exports=require("node:http")},42725:e=>{"use strict";e.exports=require("node:http2")},87503:e=>{"use strict";e.exports=require("node:net")},38846:e=>{"use strict";e.exports=require("node:perf_hooks")},39630:e=>{"use strict";e.exports=require("node:querystring")},84492:e=>{"use strict";e.exports=require("node:stream")},31764:e=>{"use strict";e.exports=require("node:tls")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},93746:e=>{"use strict";e.exports=require("node:util/types")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},34662:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(70921),s(15156),s(32029),s(35866);var a=s(23191),r=s(88716),l=s(37922),n=s.n(l),i=s(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c=["",{children:["dashboard",{children:["inventaris",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,70921)),"/Users/SMT-H3-04250401/Codes/MasjidOS/src/app/dashboard/inventaris/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,15156)),"/Users/SMT-H3-04250401/Codes/MasjidOS/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,32029)),"/Users/SMT-H3-04250401/Codes/MasjidOS/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/SMT-H3-04250401/Codes/MasjidOS/src/app/dashboard/inventaris/page.tsx"],u="/dashboard/inventaris/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/inventaris/page",pathname:"/dashboard/inventaris",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},39029:(e,t,s)=>{Promise.resolve().then(s.bind(s,3332))},39447:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},77636:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},83855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},88307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},3332:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(10326),r=s(17577),l=s(62881);let n=(0,l.Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),i=(0,l.Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),o=(0,l.Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var c=s(48705),d=s(77636),u=s(39447),x=s(83855),m=s(94019),p=s(88307),h=s(64676),j=s(7967),v=s(53566);function g({condition:e}){let t=v.VB.find(t=>t.value===e)||v.VB[0],s={excellent:a.jsx(n,{className:"w-3.5 h-3.5"}),good:a.jsx(n,{className:"w-3.5 h-3.5"}),fair:a.jsx(i,{className:"w-3.5 h-3.5"}),poor:a.jsx(o,{className:"w-3.5 h-3.5"})};return(0,a.jsxs)("span",{className:(0,j.cn)("badge flex items-center gap-1",{excellent:"bg-success-100 text-success-700",good:"bg-primary-100 text-primary-700",fair:"bg-warning-100 text-warning-700",poor:"bg-error-100 text-error-700"}[e]),children:[s[e],t.label]})}function b({asset:e}){return a.jsx("div",{className:"card p-4 hover:shadow-card-hover transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-neutral-100 rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx(c.Z,{className:"w-6 h-6 text-neutral-500"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-neutral-900",children:e.name}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[a.jsx("span",{className:"badge-neutral",children:e.category}),a.jsx(g,{condition:e.condition})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-2 text-xs text-neutral-500",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[a.jsx(d.Z,{className:"w-3.5 h-3.5"}),e.location]}),e.value&&(0,a.jsxs)("span",{children:["Nilai: ",(0,j.xG)(e.value)]})]}),e.notes&&a.jsx("p",{className:"text-sm text-neutral-600 mt-2",children:e.notes})]})]}),a.jsx("button",{className:"p-1 hover:bg-neutral-100 rounded-lg flex-shrink-0",children:a.jsx(u.Z,{className:"w-4 h-4 text-neutral-400"})})]})})}function f({onAdd:e}){return(0,a.jsxs)("div",{className:"card p-12 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-neutral-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(c.Z,{className:"w-8 h-8 text-neutral-400"})}),a.jsx("h3",{className:"font-medium text-neutral-900 mb-1",children:"Belum Ada Inventaris"}),a.jsx("p",{className:"text-sm text-neutral-500 mb-6 max-w-sm mx-auto",children:"Catat aset dan peralatan masjid untuk pemantauan kondisi dan perawatan."}),(0,a.jsxs)("button",{onClick:e,className:"btn-primary",children:[a.jsx(x.Z,{className:"w-4 h-4"}),"Tambah Aset Pertama"]})]})}function N({isOpen:e,onClose:t}){let[l,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)(null),[d,u]=(0,r.useState)({name:"",category:"",condition:"good",location:"",value:"",notes:""});if(!e)return null;let x=async e=>{e.preventDefault(),n(!0);try{let e="";i&&(e=(await s.e(320).then(s.bind(s,5320)).then(e=>e.upload(i.name,i,{access:"public",handleUploadUrl:"/api/upload"}))).url);let a=new FormData;a.append("name",d.name),a.append("category",d.category),a.append("condition",d.condition),a.append("location",d.location),a.append("value",d.value),a.append("notes",d.notes),a.append("imageUrl",e);let{createAsset:r}=await Promise.resolve().then(s.bind(s,3682)),l=await r(a);if(l.error)throw Error(l.error);t(),o(null),u({name:"",category:"",condition:"good",location:"",value:"",notes:""})}catch(e){console.error("Failed to create asset:",e),alert("Gagal menyimpan aset")}finally{n(!1)}};return a.jsx("div",{className:"modal-overlay",onClick:t,children:(0,a.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200",children:[a.jsx("h2",{className:"text-lg font-semibold text-neutral-900",children:"Tambah Aset"}),a.jsx("button",{onClick:t,className:"p-1 hover:bg-neutral-100 rounded-lg",children:a.jsx(m.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("form",{onSubmit:x,className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:(0,j.cn)("w-20 h-20 rounded-xl flex items-center justify-center border-2 border-dashed border-neutral-200 overflow-hidden relative",i?"border-none":"hover:border-primary-400"),children:[i?a.jsx("img",{src:URL.createObjectURL(i),alt:"Preview",className:"w-full h-full object-cover"}):a.jsx(c.Z,{className:"w-8 h-8 text-neutral-300"}),a.jsx("input",{type:"file",onChange:e=>{e.target.files&&e.target.files[0]&&o(e.target.files[0])},accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer"})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"Foto Aset"}),a.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"Opsional. JPG/PNG maks 2MB."})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1.5",children:"Nama Aset *"}),a.jsx("input",{type:"text",value:d.name,onChange:e=>u({...d,name:e.target.value}),className:"input",placeholder:"Contoh: AC Split 2 PK",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1.5",children:"Kategori *"}),(0,a.jsxs)("select",{value:d.category,onChange:e=>u({...d,category:e.target.value}),className:"input",required:!0,children:[a.jsx("option",{value:"",children:"Pilih kategori"}),a.jsx("option",{value:"Elektronik",children:"Elektronik"}),a.jsx("option",{value:"Furnitur",children:"Furnitur"}),a.jsx("option",{value:"Perlengkapan",children:"Perlengkapan"}),a.jsx("option",{value:"Kendaraan",children:"Kendaraan"}),a.jsx("option",{value:"Lainnya",children:"Lainnya"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1.5",children:"Kondisi *"}),a.jsx("select",{value:d.condition,onChange:e=>u({...d,condition:e.target.value}),className:"input",required:!0,children:v.VB.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1.5",children:"Lokasi"}),a.jsx("input",{type:"text",value:d.location,onChange:e=>u({...d,location:e.target.value}),className:"input",placeholder:"Contoh: Ruang Utama"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1.5",children:"Nilai/Harga"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500",children:"Rp"}),a.jsx("input",{type:"number",value:d.value,onChange:e=>u({...d,value:e.target.value}),className:"input pl-10",placeholder:"0"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1.5",children:"Catatan"}),a.jsx("textarea",{value:d.notes,onChange:e=>u({...d,notes:e.target.value}),className:"input min-h-[80px] resize-none",placeholder:"Catatan tambahan..."})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-2",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary flex-1",disabled:l,children:"Batal"}),a.jsx("button",{type:"submit",className:"btn-primary flex-1",disabled:l,children:l?"Menyimpan...":"Simpan"})]})]})]})})}function y(){let[e,t]=(0,r.useState)(!1),[s,l]=(0,r.useState)(""),[n,i]=(0,r.useState)("all"),o=h.sd.filter(e=>(!s||!!e.name.toLowerCase().includes(s.toLowerCase()))&&("all"===n||e.condition===n)),c=h.sd.reduce((e,t)=>e+(t.value||0),0),d=h.sd.filter(e=>"poor"===e.condition||"fair"===e.condition).length;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Inventaris"}),a.jsx("p",{className:"text-neutral-500 mt-1",children:"Kelola aset dan peralatan masjid"})]}),(0,a.jsxs)("button",{onClick:()=>t(!0),className:"btn-primary",children:[a.jsx(x.Z,{className:"w-4 h-4"}),"Tambah Aset"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"card p-4",children:[a.jsx("p",{className:"text-sm text-neutral-500",children:"Total Aset"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-neutral-900 mt-1",children:[h.sd.length," item"]})]}),(0,a.jsxs)("div",{className:"card p-4",children:[a.jsx("p",{className:"text-sm text-neutral-500",children:"Total Nilai"}),a.jsx("p",{className:"text-xl font-bold text-primary-600 mt-1",children:(0,j.xG)(c)})]}),(0,a.jsxs)("div",{className:"card p-4",children:[a.jsx("p",{className:"text-sm text-neutral-500",children:"Perlu Perhatian"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-warning-600 mt-1",children:[d," item"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[a.jsx(p.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),a.jsx("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"Cari aset...",className:"input pl-10"})]}),(0,a.jsxs)("select",{value:n,onChange:e=>i(e.target.value),className:"input w-auto",children:[a.jsx("option",{value:"all",children:"Semua Kondisi"}),v.VB.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))]})]}),0===o.length?a.jsx(f,{onAdd:()=>t(!0)}):a.jsx("div",{className:"grid gap-4",children:o.map(e=>a.jsx(b,{asset:e},e.id))}),a.jsx(N,{isOpen:e,onClose:()=>t(!1)})]})}},70921:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/Users/SMT-H3-04250401/Codes/MasjidOS/src/app/dashboard/inventaris/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[276,283,471,344,893,577,780,457],()=>s(34662));module.exports=a})();