(()=>{var e={};e.id=817,e.ids=[817],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},29537:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>o,pages:()=>c,routeModule:()=>m,tree:()=>u}),s(61586),s(15156),s(32029),s(35866);var t=s(23191),r=s(88716),l=s(37922),n=s.n(l),i=s(95231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(a,d);let u=["",{children:["dashboard",{children:["audit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,61586)),"/Users/SMT-H3-04250401/Codes/MasjidOS/src/app/dashboard/audit/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,15156)),"/Users/SMT-H3-04250401/Codes/MasjidOS/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,32029)),"/Users/SMT-H3-04250401/Codes/MasjidOS/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/SMT-H3-04250401/Codes/MasjidOS/src/app/dashboard/audit/page.tsx"],o="/dashboard/audit/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/audit/page",pathname:"/dashboard/audit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},17106:(e,a,s)=>{Promise.resolve().then(s.bind(s,81192))},83855:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},88307:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},98091:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},79635:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(62881).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},81192:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>b});var t=s(10326),r=s(17577),l=s(83855),n=s(62881);let i=(0,n.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var d=s(98091),u=s(79635);let c=(0,n.Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var o=s(941),x=s(69942),m=s(88307),p=s(64676),h=s(7967);function j({action:e}){let{label:a,icon:s,color:r}={create:{label:"Buat",icon:l.Z,color:"bg-success-100 text-success-700"},update:{label:"Edit",icon:i,color:"bg-primary-100 text-primary-700"},delete:{label:"Hapus",icon:d.Z,color:"bg-error-100 text-error-700"}}[e];return(0,t.jsxs)("span",{className:(0,h.cn)("badge flex items-center gap-1",r),children:[t.jsx(s,{className:"w-3 h-3"}),a]})}let g={transaction:"Transaksi",announcement:"Pengumuman",event:"Kegiatan",document:"Dokumen",asset:"Aset",user:"Pengguna"};function v({log:e,isExpanded:a,onToggle:s}){let r=p.y9.find(a=>a.userId===e.userId),l=g[e.entityType]||e.entityType;return(0,t.jsxs)("div",{className:"border-b border-neutral-100 last:border-0",children:[t.jsx("button",{onClick:s,className:"w-full p-4 text-left hover:bg-neutral-50 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-neutral-100 flex items-center justify-center flex-shrink-0",children:r?t.jsx("span",{className:"text-neutral-600 font-medium text-sm",children:r.user.fullName.split(" ").map(e=>e[0]).join("").slice(0,2)}):t.jsx(u.Z,{className:"w-5 h-5 text-neutral-400"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("span",{className:"font-medium text-neutral-900",children:r?.user.fullName||"Unknown User"}),t.jsx(j,{action:e.action}),t.jsx("span",{className:"badge-neutral",children:l})]}),t.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:(0,h.o0)(e.createdAt)})]}),(e.oldValues||e.newValues)&&t.jsx("div",{className:"flex-shrink-0",children:a?t.jsx(c,{className:"w-5 h-5 text-neutral-400"}):t.jsx(o.Z,{className:"w-5 h-5 text-neutral-400"})})]})}),a&&(e.oldValues||e.newValues)&&t.jsx("div",{className:"px-4 pb-4 pl-18",children:(0,t.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4 text-sm",children:[e.oldValues&&(0,t.jsxs)("div",{className:"mb-3",children:[t.jsx("p",{className:"text-xs font-medium text-neutral-500 mb-1",children:"Nilai Lama:"}),t.jsx("pre",{className:"text-neutral-700 text-xs bg-white rounded p-2 overflow-x-auto",children:JSON.stringify(e.oldValues,null,2)})]}),e.newValues&&(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-xs font-medium text-neutral-500 mb-1",children:"Nilai Baru:"}),t.jsx("pre",{className:"text-neutral-700 text-xs bg-white rounded p-2 overflow-x-auto",children:JSON.stringify(e.newValues,null,2)})]})]})})]})}function y(){return(0,t.jsxs)("div",{className:"card p-12 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-neutral-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx(x.Z,{className:"w-8 h-8 text-neutral-400"})}),t.jsx("h3",{className:"font-medium text-neutral-900 mb-1",children:"Belum Ada Aktivitas"}),t.jsx("p",{className:"text-sm text-neutral-500 max-w-sm mx-auto",children:"Riwayat aktivitas pengurus akan muncul di sini untuk transparansi dan akuntabilitas."})]})}function b(){let[e,a]=(0,r.useState)(""),[s,l]=(0,r.useState)("all"),[n,i]=(0,r.useState)(null),d=p.Ge.filter(e=>"all"===s||e.action===s);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Audit Log"}),t.jsx("p",{className:"text-neutral-500 mt-1",children:"Riwayat aktivitas pengurus untuk transparansi"})]}),t.jsx("div",{className:"card p-4 bg-primary-50 border-primary-100",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx(x.Z,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-900",children:"Apa itu Audit Log?"}),t.jsx("p",{className:"text-sm text-primary-700 mt-1",children:"Audit log mencatat semua perubahan yang dilakukan oleh pengurus, seperti penambahan transaksi, edit pengumuman, atau penghapusan dokumen. Ini membantu menjaga transparansi dan akuntabilitas."})]})]})}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[t.jsx(m.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),t.jsx("input",{type:"text",value:e,onChange:e=>a(e.target.value),placeholder:"Cari aktivitas...",className:"input pl-10"})]}),(0,t.jsxs)("select",{value:s,onChange:e=>l(e.target.value),className:"input w-auto",children:[t.jsx("option",{value:"all",children:"Semua Aksi"}),t.jsx("option",{value:"create",children:"Buat"}),t.jsx("option",{value:"update",children:"Edit"}),t.jsx("option",{value:"delete",children:"Hapus"})]})]}),0===d.length?t.jsx(y,{}):t.jsx("div",{className:"card overflow-hidden",children:d.map(e=>t.jsx(v,{log:e,isExpanded:n===e.id,onToggle:()=>i(n===e.id?null:e.id)},e.id))})]})}},61586:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`/Users/SMT-H3-04250401/Codes/MasjidOS/src/app/dashboard/audit/page.tsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[276,283,471,344,893,577,780,457],()=>s(29537));module.exports=t})();